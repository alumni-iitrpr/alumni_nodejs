<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">
    <!-- Chrome, Firefox OS, Opera and Vivaldi -->
    <meta name="theme-color" content="#4285f4">
    <!-- Windows Phone -->
    <meta name="msapplication-navbutton-color" content="#4285f4">
    <!-- iOS Safari -->
    <meta name="apple-mobile-web-app-status-bar-style" content="#4285f4">

    <meta name="viewport" content="width=device-width, initial-scale=1">


    <title>IIT Ropar Alumni Association</title>
    <!-- core CSS -->
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <link href="css/font-awesome.min.css" rel="stylesheet">
    <link href="css/animate.min.css" rel="stylesheet">
    <link href="css/owl.carousel.css" rel="stylesheet">
    <link href="css/owl.transitions.css" rel="stylesheet">
    <link href="css/main.css" rel="stylesheet">
    <link href="css/responsive.css" rel="stylesheet">
    <link rel="shortcut icon" href="images/ico/favicon.ico">
    <link rel="apple-touch-icon-precomposed" sizes="144x144" href="images/ico/apple-touch-icon-144-precomposed.png">
    <link rel="apple-touch-icon-precomposed" sizes="114x114" href="images/ico/apple-touch-icon-114-precomposed.png">
    <link rel="apple-touch-icon-precomposed" sizes="72x72" href="images/ico/apple-touch-icon-72-precomposed.png">
    <link rel="apple-touch-icon-precomposed" href="images/ico/apple-touch-icon-57-precomposed.png">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">

</head>
<!--/head-->

<body id="home" class="homepage">

    <header id="header">

        <nav id="main-menu" class="navbar navbar-default navbar-fixed-top" role="banner">
            <div class="container">
                <div class="navbar-header">
                    <button type="button" class="navbar-toggle collaspsed" data-toggle="collapse" data-target="#navbar-collapse-1">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    <a class="navbar-brand" href="index.html"><img src="images/logo.png" height="57px" alt="logo"></a>
                </div>


                <div class="collapse navbar-collapse navbar-right" id="navbar-collapse-1">
                    <ul class="nav navbar-nav" id="list123" >
                        <li><a href="index.html">Home</a></li>
                        <li><a href="initiatives.html">Initiatives</a></li>
                        <li><a href="contribute.html">Contribute</a></li>
                        <li><a href="aboutus.html">About Us</a></li>
                        <li><a href="#get-in-touch">Contact Us</a></li>
                        <li><a href="sources/Alumni_Directory.pdf" target="_blank" title="Alumni Directory">Alumni Directory</a></li>
                        <li><a href="https://www.facebook.com/groups/iitrpraa/" target="_blank" title="Facebook"><i class="fa fa-facebook"></i></a></li>
                        <li><a href="https://www.linkedin.com/groups/4838892" target="_blank" title="LinkedIn"><i class="fa fa-linkedin"></i></a></li>
                        <li class="active"><a>Profile</a></li>
                    </ul>
                </div>
            </div>
            <!--/.container-->
        </nav>
        <!--/nav-->
    </header>
    <!--/header-->


<div class="col-sm-12 col-md-10 col-lg-8 col-lg-offset-2 col-md-offset-1 wow fadeInUp" data-wow-duration="300ms" data-wow-delay="100ms">
    <h2 class="text-center comm">User Profile</h2>
    <div class="panel panel-default">
      <form class="col-md-4 col-md-offset-4" action="http://localhost:8080/updateUserData" method="post">
        <div class="form-group">
          <label for="firstName">First Name</label>
          <input type="firstName" class="form-control" id="firstName">
        </div>

        <!-- First Name:<br><input id="firstName" type="text" name="firstName" ><br> -->
        Middle Name:<br><input id="middleName" type="text" name="middleName" ><br>
        Last Name:<br><input id="lastName" type="text" name="lastName" ><br>
        Entry Number:<br><input id="entryNumber" type="text" name="entryNumber" ><br>
        Gender:<br><input id="gender" type="text" name="gender" ><br>
        DOB:<br><input id="dateOfBirth" type="text" name="dateOfBirth" ><br>
        Email:<br><input id="userName" type="text" name="userName" ><br>
        Blood Group:<br><input id="bloodGroup" type="text" name="bloodGroup" ><br>
        Degree:<br><input id="degree" type="text" name="degree" ><br>
        Branch:<br><input id="branch" type="text" name="branch" ><br>
        GraduationYear:<br><input id="graduationYear" type="text" name="graduationYear" ><br>
        Mobile Number:<br><input id="mobileNumber" type="text" name="mobileNumber" ><br>
        IITRopar Email Address:<br><input id="iitRoparEmailAddress" type="text" name="iitRoparEmailAddress" ><br>
        Primary Email Address:<br><input id="primaryEmailAddress" type="text" name="primaryEmailAddress" ><br>
        Alternate Email Address:<br><input id="alternateEmailAddress" type="text" name="alternateEmailAddress" ><br>
        Facebook Profile Link:<br><input id="facebookProfileLink" type="text" name="facebookProfileLink" ><br>
        LinkedIn Profile Link:<br><input id="linkedInProfileLink" type="text" name="linkedInProfileLink" ><br>
        Current Company/Institute/University:<br><input id="currentCompanyInstituteUniversity" type="text" name="currentCompanyInstituteUniversity" ><br>
        Current Title At Company/Institute/University:<br><input id="currentTitleAtCompanyInstituteUniversity" type="text" name="currentTitleAtCompanyInstituteUniversity" ><br>
        Current Residence Address:<br><input id="currentResidenceAddress" type="text" name="currentResidenceAddress" ><br>
        Current Residence City:<br><input id="currentResidenceCity" type="text" name="currentResidenceCity" ><br>
        Current Residence State:<br><input id="currentResidenceState" type="text" name="currentResidenceState" ><br>
        Current Residence Country:<br><input id="currentResidenceCountry" type="text" name="currentResidenceCountry" ><br>
        Current Residence PIN/ZIP:<br><input id="currentResidencePINZIP" type="text" name="currentResidencePINZIP" ><br>
        Past Companies:<br><input id="pastCompanies" type="text" name="pastCompanies" ><br>
        Permanent Residence Address:<br><input id="permanentResidenceAddress" type="text" name="permanentResidenceAddress" ><br>
        Permanent Residence City:<br><input id="permanentResidenceCity" type="text" name="permanentResidenceCity" ><br>
        Permanent Residence State:<br><input id="permanentResidenceState" type="text" name="permanentResidenceState" ><br>
        Permanent Residence Country:<br><input id="permanentResidenceCountry" type="text" name="permanentResidenceCountry" ><br>
        Permanent Residence PIN/ZIP:<br><input id="permanentResidencePINZIP" type="text" name="permanentResidencePINZIP" ><br>
        Past Institutes/Universities:<br><input id="pastInstitutesUniversities" type="text" name="pastInstitutesUniversities" ><br><br>
        <input type="hidden" id="userId" name="_id">
        <!-- <input type="button" onclick="myFunction()" value="Submit form"> -->
        <input type="submit" value="Submit">
      </form>
    </div>
  </div>


<script type="text/javascript">


    console.log(localStorage.getItem("id"));
    if (localStorage.getItem("id")){

    var xhr = new XMLHttpRequest();
    xhr.open("GET", "http://localhost:8080/userDataID/"+localStorage.getItem("id"), false);
    xhr.send();
    resp = JSON.parse(xhr.responseText);

    console.log(resp.firstName);

    document.getElementById('userId').value=localStorage.getItem("id")

    document.getElementById('firstName').value=resp.firstName
    document.getElementById('middleName').value=resp.middleName
    document.getElementById('lastName').value=resp.lastName
    document.getElementById('entryNumber').value=resp.entryNumber
    document.getElementById('userName').value=resp.userName
    document.getElementById('gender').value=resp.gender
    document.getElementById('dateOfBirth').value=resp.dateOfBirth
    document.getElementById('bloodGroup').value=resp.bloodGroup
    document.getElementById('degree').value=resp.degree
    document.getElementById('branch').value=resp.branch
    document.getElementById('graduationYear').value=resp.graduationYear
    document.getElementById('mobileNumber').value=resp.mobileNumber
    document.getElementById('iitRoparEmailAddress').value=resp.iitRoparEmailAddress
    document.getElementById('primaryEmailAddress').value=resp.primaryEmailAddress
    document.getElementById('alternateEmailAddress').value=resp.alternateEmailAddress
    document.getElementById('facebookProfileLink').value=resp.facebookProfileLink
    document.getElementById('linkedInProfileLink').value=resp.linkedInProfileLink
    document.getElementById('currentCompanyInstituteUniversity').value=resp.currentCompanyInstituteUniversity
    document.getElementById('currentTitleAtCompanyInstituteUniversity').value=resp.currentTitleAtCompanyInstituteUniversity
    document.getElementById('currentResidenceAddress').value=resp.currentResidenceAddress
    document.getElementById('currentResidenceCity').value=resp.currentResidenceCity
    document.getElementById('currentResidenceState').value=resp.currentResidenceState
    document.getElementById('currentResidenceCountry').value=resp.currentResidenceCountry
    document.getElementById('currentResidencePINZIP').value=resp.currentResidencePINZIP
    document.getElementById('pastCompanies').value=resp.pastCompanies
    document.getElementById('permanentResidenceAddress').value=resp.permanentResidenceAddress
    document.getElementById('permanentResidenceCity').value=resp.permanentResidenceCity
    document.getElementById('permanentResidenceState').value=resp.permanentResidenceState
    document.getElementById('permanentResidenceCountry').value=resp.permanentResidenceCountry
    document.getElementById('permanentResidencePINZIP').value=resp.permanentResidencePINZIP
    document.getElementById('pastInstitutesUniversities').value=resp.pastInstitutesUniversities

    console.log(resp);

        }

    function checkAnswer(){
    window.location="./login.html";
    return false;
}

    function myFunction(oFormElement){
      console.log('Log is: *****');
      console.log(oFormElement);
      var xhr = new XMLHttpRequest();
      xhr.open("POST", "http://localhost:8080/update/"+localStorage.getItem("id"), true);
      xhr.send(new FormData (oFormElement));
      resp = xhr.responseText;
      console.log(resp)
    }


</script>


    <!-- <script src="js/jquery.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script src="http://maps.google.com/maps/api/js?sensor=true"></script>
    <script src="js/owl.carousel.min.js"></script>
    <script src="js/mousescroll.js"></script>
    <script src="js/smoothscroll.js"></script>
    <script src="js/jquery.isotope.min.js"></script>
    <script src="js/jquery.inview.min.js"></script>
    <script src="js/wow.min.js"></script>
    <script src="js/main.js"></script> -->

</body>

</html>
